# ФудСити - MVP

Production-ready MVP платформы для заказа еды с поддержкой PWA.

## Технологии

- **Next.js 14** (App Router)
- **TypeScript**
- **Tailwind CSS**
- **shadcn/ui** - компоненты UI
- **React Hook Form** + **Zod** - валидация форм
- **TanStack Query** - серверные вызовы
- **Framer Motion** - анимации
- **Zustand** - управление состоянием
- **lucide-react** - иконки

## Роли и доступы

### Покупатель (B2C/B2B)
- Поиск товаров
- Добавление в корзину
- Оформление заказов
- Отслеживание доставки
- Открытие споров

### Продавец (киоск/точка)
- Управление каталогом
- Прием и сборка заказов
- Фото-подтверждения качества
- Передача в доставку

### Оператор (админ)
- Модерация продавцов/товаров
- Ручная логистика
- Обработка споров/возвратов
- Отчеты

## Функциональность MVP

### Авторизация
- **Вход**: обязательны телефон, email и пароль
- **Регистрация**: подтверждение email и телефона
- Валидация по RFC5322 (email) и E.164 (телефон)
- Сильная проверка паролей

### Каталог товаров
- Категории: овощи, фрукты, зелень
- Поиск по названию и описанию
- Фильтрация по категориям
- Единицы измерения: кг, шт, короб
- Рейтинг продавцов и процент возвратов

### Корзина
- Мульти-продавец корзина
- Изменение количества
- Выбор единиц измерения
- Комментарии к позициям

### Заказы
- 2-шаговый чекаут (доставка + оплата)
- Способы доставки: доставка/самовывоз
- Способы оплаты: наличные/перевод/счет
- Трекинг статусов заказа
- Фото-подтверждения качества

### Споры и возвраты
- Открытие спора в течение 24ч
- Типы проблем: качество, недовоз, вес/сорт
- Обязательная загрузка фото/видео
- Обработка оператором

## Структура проекта

```
├── app/
│   ├── auth/
│   │   └── page.tsx          # Авторизация
│   ├── globals.css           # Глобальные стили
│   ├── layout.tsx            # Основной layout
│   └── page.tsx              # Главная страница (каталог)
├── components/
│   ├── ui/                   # shadcn/ui компоненты
│   ├── forms/                # Формы
│   ├── app-header.tsx        # Шапка приложения
│   ├── bottom-nav.tsx        # Нижняя навигация
│   └── toast-provider.tsx    # Toast уведомления
├── lib/
│   ├── api.ts                # API клиент
│   ├── auth-client.ts        # Авторизация API
│   ├── store.ts              # Zustand store
│   ├── zod-schemas.ts        # Схемы валидации
│   └── utils.ts              # Утилиты
└── public/
    └── manifest.json         # PWA манифест
```

## API Endpoints

### Авторизация
- `POST /auth/email/login` - Вход (телефон + email + пароль)
- `POST /auth/email/signup` - Регистрация
- `POST /auth/email/send-verify` - Отправка подтверждения email
- `POST /auth/phone/send-verify` - Отправка SMS
- `POST /auth/phone/verify` - Подтверждение телефона
- `GET /auth/me` - Профиль пользователя
- `POST /auth/logout` - Выход

### Товары
- `GET /products` - Список товаров
- `GET /products/:id` - Детали товара
- `GET /vendors/:id` - Магазин продавца

### Заказы
- `POST /orders` - Создание заказа
- `GET /orders/:id` - Детали заказа
- `PUT /orders/:id` - Обновление заказа
- `POST /orders/:id/dispute` - Открытие спора

## Особенности MVP

### Mobile-first PWA
- Адаптивный дизайн
- Нижняя навигация на мобильных
- PWA манифест для установки
- Офлайн поддержка (базовая)

### UX/UI
- Плавные анимации с Framer Motion
- Toast уведомления
- Skeleton загрузки
- Empty states
- Error boundaries

### Безопасность
- Валидация всех форм через Zod
- Защита от частых запросов
- Проверка прав доступа
- Безопасные API вызовы

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Запустите проект в режиме разработки:
```bash
npm run dev
```

3. Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Скрипты

- `npm run dev` - Запуск в режиме разработки
- `npm run build` - Сборка для продакшена
- `npm run start` - Запуск продакшен версии
- `npm run lint` - Проверка кода

## Лицензия

MIT 